<!DOCTYPE html>
<html>
<head>
    <title>라즈베리파이 수업</title>
    <style>
        h3{
            display: inline-block;
        }
    </style>
</head>
<body>
    <h2>아두이노 서보모터 제어하기</h2>
    <h3>[Arduino]</h3>
    <h3><p>
        #include <Servo.h><br>
            Servo myservoH;<!--create servo object to control a servo--><br>
            Servo myservoV;<br>
            
            int posH = 90;<br>
            
            int posV = 90;<br>
            
            
            
            void setup() {<br>
            
              myservoH.attach(8);<br>  // 서보모터를 쉴드의 8번에 연결한다.
            
              myservoV.attach(7);<br>  // 서보모터를 쉴드의 7번에 연결한다.
            
            
            
              Serial.begin(9600);<br>
            
            }<br>
            
            
            
            void loop() {<br>
            
              while (Serial.available() > 0) {<br>
            
                long value = Serial.parseInt();<br>
            
                int backUpH = posH;
            <br>
                int backUpV = posV;<br>
            
                switch (value) {<br>
            
                  case 1:<br>
            
                    //posH = posH - 5; 같은 표현이다 posH -= 5;
            
                    posH -= 5;<br>
            
                    break;<br>
            
                  case 2:<br>
            
                    posH += 5;<br>
            
                    break;<br>
            
                  case 3:<br>
            
                    posV -= 5;<br>
            
                    break;<br>
            
                  case 4:<br>
            
                    posV += 5;<br>
            
                    break;<br>
            
                }<br>
            
                if (posH<0 || posH>180) {<br>
            
                  posH=backUpH;<br>
            
                }<br>
            
                if (posV<0 || posV>180) {<br>
            
                  posV=backUpV;<br>
            
                }<br>
            
                myservoH.write(posH);<br>
            
                myservoV.write(posV);<br>
            
              }<br>
            
            } <br>
    </p></h3><br>
    <h3>[Python]</h3>
    <h3><p>
        import cv2<br>

import serial<br>

arduino = serial.Serial('COM12',9600)<br>

cap = cv2.VideoCapture(0)  <br>

while(True):  <br>

    # Capture frame-by-frame  <br>

    ret, frame = cap.read()  <br>

    

    cv2.imshow('frame',frame)<br>



    key = cv2.waitKey(1) & 0xFF<br>

    

    if key == ord('q'): <br> 

        break<br>

    elif key ==ord('a'):  <br>        #왼쪽

        arduino.write(b'1\n')<br>

        print(b'1\n')<br>

    elif key ==ord('d'):    <br>      #오른쪽

        arduino.write(b'2\n')<br>

        print(b'2\n')<br>

    elif key ==ord('w'):   <br>       #위

        arduino.write(b'3\n')<br>

        print(b'3\n')<br>

    elif key ==ord('s'):      <br>    #아래

        arduino.write(b'4\n')<br>

        print(b'4\n')<br>

# When everything done, release the capture  

cap.release()  <br>

cv2.destroyAllWindows()  <br>


    </p></h3?
</body>
        </html>
