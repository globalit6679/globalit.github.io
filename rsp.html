<!DOCTYPE html>
<html>
    <head>
        <title>20190753 웹프로그래밍 과제 이효원</title>
        <style>
            .box1{
                border-radius: 10px;
                border: 2px solid green;
                background-color: green;
                padding: 10px;
                margin: 10px;
                width: 400px;
                height: 20px;
                color: white;
                text-align: center;
            }
            .box2{
                padding: 10px;
                margin: 10px;
                width: 400px;
                text-align: center;
            }
            #msgimg{
                width: 400px;
                padding: 10px;
                border: 1px solid rgb(11, 177, 11);
                text-align: center;
            }
            #msg{
                width: 400px;
                height: 40px;
                margin-top: 10px;
                padding: 10px;
                border: 1px solid rgb(11, 177, 11);
                font-size: 14px;
                color: red;
                text-align: center;
            }
            img{
                width: 80px;
                height: 80px;
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script>
            var total = 0;
            var wincount = 0;
            $(document).ready(function(){
                $("p>img").click(function(){
                    total ++;
                    var com = Math.floor(Math.random()*3)+1;

                    var userId = $(this).attr("id");
                    var user = parseInt(userId.charAt(userId.length - 1));
                    

                
                    switch(user){
                        case 1:
                            $("#img1").attr("src","./img/scissors.png");
                            break;
                        case 2:
                        
                            $("#img1").attr("src","./img/rock.png");
                            break;

                        case 3:
                            $("#img1").attr("src","./img/paper.png");
                            break;
                    }
                    switch(com){
                        case 1:
                            $("#img2").attr("src","./img/scissorscom.png");
                            break;
                        case 2:
                        
                            $("#img2").attr("src","./img/rockcom.png");
                            break;

                        case 3:
                            $("#img2").attr("src","./img/papercom.png");
                            break;
                    }
                    var str = "";
                    var res = ((user-com)+3)%3;
                    if(res==0){
                        str = str+"비겼습니다. <br>";
                        
                    }
                    else if(res==1){
                        
                        str = str+"이겼습니다. <br>";
                        wincount++;
                    }
                    else{
                        
                        str = str+"졌습니다. <br>";
                        
                    }
                    str = str+"전체 횟수 : "+total + ",";
                    str = str+"이긴 횟수 : "+wincount + ",";
                    str = str+"승률 : "+(wincount/total*100).toFixed(2) + "%";

                    $("#msg").html(str);

                });

                $("#bt1").click(function(){
                    total = 0;
                    wincount = 0;

                    $("#img1").attr("src","./img/q.png")
                    $("#img2").attr("src","./img/q.png")
                    $("#msg").html("");
                })
            });
        </script>
    </head>
    <body>
        <form name="myform">
            <div class="box1">
                가위바위보 게임(20190753 이효원)
            </div>
            <div class="box2">
                <p>
                    <img src="./img/scissors.png" id="i1">
                    <img src="./img/rock.png" id="i2">
                    <img src="./img/paper.png" id="i3">
                    
                </p>
                <p>
                    <input type="button" value="다시하기" id="bt1">

                </p>


            </div>
            <div id="msgimg">
                <img src="./img/q.png" id="img1">
                <img src="./img/vs.png">
                <img src="./img/q.png" id="img2">

            </div>
            <div id="msg"></div>
        </form>
    </body>
</html>